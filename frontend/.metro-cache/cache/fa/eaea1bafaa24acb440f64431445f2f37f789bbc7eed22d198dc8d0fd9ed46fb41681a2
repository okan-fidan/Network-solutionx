{"dependencies":[{"name":"expo-store-review","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":118},"end":{"line":5,"column":49,"index":167}}],"key":"yzkhvrxknPFq6IkeOqtXxybOttw=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":168},"end":{"line":6,"column":69,"index":237}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getRatingData = getRatingData;\n  exports.incrementSessionCount = incrementSessionCount;\n  exports.incrementPostCount = incrementPostCount;\n  exports.markAsRated = markAsRated;\n  exports.dismissRatingPrompt = dismissRatingPrompt;\n  exports.shouldShowRatingPrompt = shouldShowRatingPrompt;\n  exports.requestReview = requestReview;\n  exports.resetRatingData = resetRatingData;\n  var _expoStoreReview = require(_dependencyMap[0], \"expo-store-review\");\n  var StoreReview = _interopNamespace(_expoStoreReview);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Uygulama İçi Değerlendirme Yardımcısı\n   * Kullanıcının uygulamayı değerlendirmesini istemek için kullanılır\n   */\n\n  const RATING_STORAGE_KEY = 'app_rating_data';\n  const MIN_SESSIONS = 5; // Minimum oturum sayısı\n  const MIN_POSTS = 3; // Minimum gönderi sayısı\n  const DAYS_BETWEEN_PROMPTS = 30; // Tekrar sormadan önce beklenecek gün\n\n  const defaultData = {\n    sessionCount: 0,\n    postCount: 0,\n    lastPromptDate: null,\n    hasRated: false,\n    dismissed: false\n  };\n\n  /**\n   * Rating verilerini yükle\n   */\n  async function getRatingData() {\n    try {\n      const data = await AsyncStorage.default.getItem(RATING_STORAGE_KEY);\n      if (data) {\n        return {\n          ...defaultData,\n          ...JSON.parse(data)\n        };\n      }\n      return defaultData;\n    } catch {\n      return defaultData;\n    }\n  }\n\n  /**\n   * Rating verilerini kaydet\n   */\n  async function saveRatingData(data) {\n    try {\n      await AsyncStorage.default.setItem(RATING_STORAGE_KEY, JSON.stringify(data));\n    } catch (error) {\n      console.error('Rating data save error:', error);\n    }\n  }\n\n  /**\n   * Oturum sayısını artır\n   */\n  async function incrementSessionCount() {\n    const data = await getRatingData();\n    data.sessionCount += 1;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Gönderi sayısını artır\n   */\n  async function incrementPostCount() {\n    const data = await getRatingData();\n    data.postCount += 1;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme yapıldı olarak işaretle\n   */\n  async function markAsRated() {\n    const data = await getRatingData();\n    data.hasRated = true;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme istemini reddet\n   */\n  async function dismissRatingPrompt() {\n    const data = await getRatingData();\n    data.dismissed = true;\n    data.lastPromptDate = new Date().toISOString();\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme istemi gösterilmeli mi kontrol et\n   */\n  async function shouldShowRatingPrompt() {\n    const data = await getRatingData();\n\n    // Zaten değerlendirdiyse gösterme\n    if (data.hasRated) {\n      return false;\n    }\n\n    // Yeterli oturum veya gönderi sayısı yoksa gösterme\n    if (data.sessionCount < MIN_SESSIONS && data.postCount < MIN_POSTS) {\n      return false;\n    }\n\n    // Son gösterimden beri yeterli zaman geçti mi?\n    if (data.lastPromptDate) {\n      const lastDate = new Date(data.lastPromptDate);\n      const daysSinceLastPrompt = (Date.now() - lastDate.getTime()) / (1000 * 60 * 60 * 24);\n      if (daysSinceLastPrompt < DAYS_BETWEEN_PROMPTS) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Değerlendirme isteğini göster\n   */\n  async function requestReview() {\n    try {\n      // Store review mevcut mu kontrol et\n      const isAvailable = await StoreReview.isAvailableAsync();\n      if (isAvailable) {\n        await StoreReview.requestReview();\n        await markAsRated();\n        return true;\n      }\n\n      // Mevcut değilse, store'a yönlendir\n      if (await StoreReview.hasAction()) {\n        await StoreReview.requestReview();\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Review request error:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Tüm rating verilerini sıfırla (test için)\n   */\n  async function resetRatingData() {\n    await AsyncStorage.default.removeItem(RATING_STORAGE_KEY);\n  }\n});","lineCount":181,"map":[[27,2,32,0,"exports"],[27,9,32,0],[27,10,32,0,"getRatingData"],[27,23,32,0],[27,26,32,0,"getRatingData"],[27,39,32,0],[28,2,58,0,"exports"],[28,9,58,0],[28,10,58,0,"incrementSessionCount"],[28,31,58,0],[28,34,58,0,"incrementSessionCount"],[28,55,58,0],[29,2,67,0,"exports"],[29,9,67,0],[29,10,67,0,"incrementPostCount"],[29,28,67,0],[29,31,67,0,"incrementPostCount"],[29,49,67,0],[30,2,76,0,"exports"],[30,9,76,0],[30,10,76,0,"markAsRated"],[30,21,76,0],[30,24,76,0,"markAsRated"],[30,35,76,0],[31,2,85,0,"exports"],[31,9,85,0],[31,10,85,0,"dismissRatingPrompt"],[31,29,85,0],[31,32,85,0,"dismissRatingPrompt"],[31,51,85,0],[32,2,95,0,"exports"],[32,9,95,0],[32,10,95,0,"shouldShowRatingPrompt"],[32,32,95,0],[32,35,95,0,"shouldShowRatingPrompt"],[32,57,95,0],[33,2,123,0,"exports"],[33,9,123,0],[33,10,123,0,"requestReview"],[33,23,123,0],[33,26,123,0,"requestReview"],[33,39,123,0],[34,2,150,0,"exports"],[34,9,150,0],[34,10,150,0,"resetRatingData"],[34,25,150,0],[34,28,150,0,"resetRatingData"],[34,43,150,0],[35,2,5,0],[35,6,5,0,"_expoStoreReview"],[35,22,5,0],[35,25,5,0,"require"],[35,32,5,0],[35,33,5,0,"_dependencyMap"],[35,47,5,0],[36,2,5,0],[36,6,5,0,"StoreReview"],[36,17,5,0],[36,20,5,0,"_interopNamespace"],[36,37,5,0],[36,38,5,0,"_expoStoreReview"],[36,54,5,0],[37,2,6,0],[37,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,6,0],[37,45,6,0,"require"],[37,52,6,0],[37,53,6,0,"_dependencyMap"],[37,67,6,0],[38,2,6,0],[38,6,6,0,"AsyncStorage"],[38,18,6,0],[38,21,6,0,"_interopDefault"],[38,36,6,0],[38,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,6,0],[39,2,1,0],[40,0,2,0],[41,0,3,0],[42,0,4,0],[44,2,8,0],[44,8,8,6,"RATING_STORAGE_KEY"],[44,26,8,24],[44,29,8,27],[44,46,8,44],[45,2,9,0],[45,8,9,6,"MIN_SESSIONS"],[45,20,9,18],[45,23,9,21],[45,24,9,22],[45,25,9,23],[45,26,9,24],[46,2,10,0],[46,8,10,6,"MIN_POSTS"],[46,17,10,15],[46,20,10,18],[46,21,10,19],[46,22,10,20],[46,23,10,21],[47,2,11,0],[47,8,11,6,"DAYS_BETWEEN_PROMPTS"],[47,28,11,26],[47,31,11,29],[47,33,11,31],[47,34,11,32],[47,35,11,33],[49,2,21,0],[49,8,21,6,"defaultData"],[49,19,21,29],[49,22,21,32],[50,4,22,2,"sessionCount"],[50,16,22,14],[50,18,22,16],[50,19,22,17],[51,4,23,2,"postCount"],[51,13,23,11],[51,15,23,13],[51,16,23,14],[52,4,24,2,"lastPromptDate"],[52,18,24,16],[52,20,24,18],[52,24,24,22],[53,4,25,2,"hasRated"],[53,12,25,10],[53,14,25,12],[53,19,25,17],[54,4,26,2,"dismissed"],[54,13,26,11],[54,15,26,13],[55,2,27,0],[55,3,27,1],[57,2,29,0],[58,0,30,0],[59,0,31,0],[60,2,32,7],[60,17,32,22,"getRatingData"],[60,30,32,35,"getRatingData"],[60,31,32,35],[60,33,32,59],[61,4,33,2],[61,8,33,6],[62,6,34,4],[62,12,34,10,"data"],[62,16,34,14],[62,19,34,17],[62,25,34,23,"AsyncStorage"],[62,37,34,35],[62,38,34,35,"default"],[62,45,34,35],[62,46,34,36,"getItem"],[62,53,34,43],[62,54,34,44,"RATING_STORAGE_KEY"],[62,72,34,62],[62,73,34,63],[63,6,35,4],[63,10,35,8,"data"],[63,14,35,12],[63,16,35,14],[64,8,36,6],[64,15,36,13],[65,10,36,15],[65,13,36,18,"defaultData"],[65,24,36,29],[66,10,36,31],[66,13,36,34,"JSON"],[66,17,36,38],[66,18,36,39,"parse"],[66,23,36,44],[66,24,36,45,"data"],[66,28,36,49],[67,8,36,51],[67,9,36,52],[68,6,37,4],[69,6,38,4],[69,13,38,11,"defaultData"],[69,24,38,22],[70,4,39,2],[70,5,39,3],[70,6,39,4],[70,12,39,10],[71,6,40,4],[71,13,40,11,"defaultData"],[71,24,40,22],[72,4,41,2],[73,2,42,0],[75,2,44,0],[76,0,45,0],[77,0,46,0],[78,2,47,0],[78,17,47,15,"saveRatingData"],[78,31,47,29,"saveRatingData"],[78,32,47,30,"data"],[78,36,47,46],[78,38,47,63],[79,4,48,2],[79,8,48,6],[80,6,49,4],[80,12,49,10,"AsyncStorage"],[80,24,49,22],[80,25,49,22,"default"],[80,32,49,22],[80,33,49,23,"setItem"],[80,40,49,30],[80,41,49,31,"RATING_STORAGE_KEY"],[80,59,49,49],[80,61,49,51,"JSON"],[80,65,49,55],[80,66,49,56,"stringify"],[80,75,49,65],[80,76,49,66,"data"],[80,80,49,70],[80,81,49,71],[80,82,49,72],[81,4,50,2],[81,5,50,3],[81,6,50,4],[81,13,50,11,"error"],[81,18,50,16],[81,20,50,18],[82,6,51,4,"console"],[82,13,51,11],[82,14,51,12,"error"],[82,19,51,17],[82,20,51,18],[82,45,51,43],[82,47,51,45,"error"],[82,52,51,50],[82,53,51,51],[83,4,52,2],[84,2,53,0],[86,2,55,0],[87,0,56,0],[88,0,57,0],[89,2,58,7],[89,17,58,22,"incrementSessionCount"],[89,38,58,43,"incrementSessionCount"],[89,39,58,43],[89,41,58,61],[90,4,59,2],[90,10,59,8,"data"],[90,14,59,12],[90,17,59,15],[90,23,59,21,"getRatingData"],[90,36,59,34],[90,37,59,35],[90,38,59,36],[91,4,60,2,"data"],[91,8,60,6],[91,9,60,7,"sessionCount"],[91,21,60,19],[91,25,60,23],[91,26,60,24],[92,4,61,2],[92,10,61,8,"saveRatingData"],[92,24,61,22],[92,25,61,23,"data"],[92,29,61,27],[92,30,61,28],[93,2,62,0],[95,2,64,0],[96,0,65,0],[97,0,66,0],[98,2,67,7],[98,17,67,22,"incrementPostCount"],[98,35,67,40,"incrementPostCount"],[98,36,67,40],[98,38,67,58],[99,4,68,2],[99,10,68,8,"data"],[99,14,68,12],[99,17,68,15],[99,23,68,21,"getRatingData"],[99,36,68,34],[99,37,68,35],[99,38,68,36],[100,4,69,2,"data"],[100,8,69,6],[100,9,69,7,"postCount"],[100,18,69,16],[100,22,69,20],[100,23,69,21],[101,4,70,2],[101,10,70,8,"saveRatingData"],[101,24,70,22],[101,25,70,23,"data"],[101,29,70,27],[101,30,70,28],[102,2,71,0],[104,2,73,0],[105,0,74,0],[106,0,75,0],[107,2,76,7],[107,17,76,22,"markAsRated"],[107,28,76,33,"markAsRated"],[107,29,76,33],[107,31,76,51],[108,4,77,2],[108,10,77,8,"data"],[108,14,77,12],[108,17,77,15],[108,23,77,21,"getRatingData"],[108,36,77,34],[108,37,77,35],[108,38,77,36],[109,4,78,2,"data"],[109,8,78,6],[109,9,78,7,"hasRated"],[109,17,78,15],[109,20,78,18],[109,24,78,22],[110,4,79,2],[110,10,79,8,"saveRatingData"],[110,24,79,22],[110,25,79,23,"data"],[110,29,79,27],[110,30,79,28],[111,2,80,0],[113,2,82,0],[114,0,83,0],[115,0,84,0],[116,2,85,7],[116,17,85,22,"dismissRatingPrompt"],[116,36,85,41,"dismissRatingPrompt"],[116,37,85,41],[116,39,85,59],[117,4,86,2],[117,10,86,8,"data"],[117,14,86,12],[117,17,86,15],[117,23,86,21,"getRatingData"],[117,36,86,34],[117,37,86,35],[117,38,86,36],[118,4,87,2,"data"],[118,8,87,6],[118,9,87,7,"dismissed"],[118,18,87,16],[118,21,87,19],[118,25,87,23],[119,4,88,2,"data"],[119,8,88,6],[119,9,88,7,"lastPromptDate"],[119,23,88,21],[119,26,88,24],[119,30,88,28,"Date"],[119,34,88,32],[119,35,88,33],[119,36,88,34],[119,37,88,35,"toISOString"],[119,48,88,46],[119,49,88,47],[119,50,88,48],[120,4,89,2],[120,10,89,8,"saveRatingData"],[120,24,89,22],[120,25,89,23,"data"],[120,29,89,27],[120,30,89,28],[121,2,90,0],[123,2,92,0],[124,0,93,0],[125,0,94,0],[126,2,95,7],[126,17,95,22,"shouldShowRatingPrompt"],[126,39,95,44,"shouldShowRatingPrompt"],[126,40,95,44],[126,42,95,65],[127,4,96,2],[127,10,96,8,"data"],[127,14,96,12],[127,17,96,15],[127,23,96,21,"getRatingData"],[127,36,96,34],[127,37,96,35],[127,38,96,36],[129,4,98,2],[130,4,99,2],[130,8,99,6,"data"],[130,12,99,10],[130,13,99,11,"hasRated"],[130,21,99,19],[130,23,99,21],[131,6,100,4],[131,13,100,11],[131,18,100,16],[132,4,101,2],[134,4,103,2],[135,4,104,2],[135,8,104,6,"data"],[135,12,104,10],[135,13,104,11,"sessionCount"],[135,25,104,23],[135,28,104,26,"MIN_SESSIONS"],[135,40,104,38],[135,44,104,42,"data"],[135,48,104,46],[135,49,104,47,"postCount"],[135,58,104,56],[135,61,104,59,"MIN_POSTS"],[135,70,104,68],[135,72,104,70],[136,6,105,4],[136,13,105,11],[136,18,105,16],[137,4,106,2],[139,4,108,2],[140,4,109,2],[140,8,109,6,"data"],[140,12,109,10],[140,13,109,11,"lastPromptDate"],[140,27,109,25],[140,29,109,27],[141,6,110,4],[141,12,110,10,"lastDate"],[141,20,110,18],[141,23,110,21],[141,27,110,25,"Date"],[141,31,110,29],[141,32,110,30,"data"],[141,36,110,34],[141,37,110,35,"lastPromptDate"],[141,51,110,49],[141,52,110,50],[142,6,111,4],[142,12,111,10,"daysSinceLastPrompt"],[142,31,111,29],[142,34,111,32],[142,35,111,33,"Date"],[142,39,111,37],[142,40,111,38,"now"],[142,43,111,41],[142,44,111,42],[142,45,111,43],[142,48,111,46,"lastDate"],[142,56,111,54],[142,57,111,55,"getTime"],[142,64,111,62],[142,65,111,63],[142,66,111,64],[142,71,111,69],[142,75,111,73],[142,78,111,76],[142,80,111,78],[142,83,111,81],[142,85,111,83],[142,88,111,86],[142,90,111,88],[142,91,111,89],[143,6,112,4],[143,10,112,8,"daysSinceLastPrompt"],[143,29,112,27],[143,32,112,30,"DAYS_BETWEEN_PROMPTS"],[143,52,112,50],[143,54,112,52],[144,8,113,6],[144,15,113,13],[144,20,113,18],[145,6,114,4],[146,4,115,2],[147,4,117,2],[147,11,117,9],[147,15,117,13],[148,2,118,0],[150,2,120,0],[151,0,121,0],[152,0,122,0],[153,2,123,7],[153,17,123,22,"requestReview"],[153,30,123,35,"requestReview"],[153,31,123,35],[153,33,123,56],[154,4,124,2],[154,8,124,6],[155,6,125,4],[156,6,126,4],[156,12,126,10,"isAvailable"],[156,23,126,21],[156,26,126,24],[156,32,126,30,"StoreReview"],[156,43,126,41],[156,44,126,42,"isAvailableAsync"],[156,60,126,58],[156,61,126,59],[156,62,126,60],[157,6,128,4],[157,10,128,8,"isAvailable"],[157,21,128,19],[157,23,128,21],[158,8,129,6],[158,14,129,12,"StoreReview"],[158,25,129,23],[158,26,129,24,"requestReview"],[158,39,129,37],[158,40,129,38],[158,41,129,39],[159,8,130,6],[159,14,130,12,"markAsRated"],[159,25,130,23],[159,26,130,24],[159,27,130,25],[160,8,131,6],[160,15,131,13],[160,19,131,17],[161,6,132,4],[163,6,134,4],[164,6,135,4],[164,10,135,8],[164,16,135,14,"StoreReview"],[164,27,135,25],[164,28,135,26,"hasAction"],[164,37,135,35],[164,38,135,36],[164,39,135,37],[164,41,135,39],[165,8,136,6],[165,14,136,12,"StoreReview"],[165,25,136,23],[165,26,136,24,"requestReview"],[165,39,136,37],[165,40,136,38],[165,41,136,39],[166,8,137,6],[166,15,137,13],[166,19,137,17],[167,6,138,4],[168,6,140,4],[168,13,140,11],[168,18,140,16],[169,4,141,2],[169,5,141,3],[169,6,141,4],[169,13,141,11,"error"],[169,18,141,16],[169,20,141,18],[170,6,142,4,"console"],[170,13,142,11],[170,14,142,12,"error"],[170,19,142,17],[170,20,142,18],[170,43,142,41],[170,45,142,43,"error"],[170,50,142,48],[170,51,142,49],[171,6,143,4],[171,13,143,11],[171,18,143,16],[172,4,144,2],[173,2,145,0],[175,2,147,0],[176,0,148,0],[177,0,149,0],[178,2,150,7],[178,17,150,22,"resetRatingData"],[178,32,150,37,"resetRatingData"],[178,33,150,37],[178,35,150,55],[179,4,151,2],[179,10,151,8,"AsyncStorage"],[179,22,151,20],[179,23,151,20,"default"],[179,30,151,20],[179,31,151,21,"removeItem"],[179,41,151,31],[179,42,151,32,"RATING_STORAGE_KEY"],[179,60,151,50],[179,61,151,51],[180,2,152,0],[181,0,152,1],[181,3]],"functionMap":{"names":["<global>","getRatingData","saveRatingData","incrementSessionCount","incrementPostCount","markAsRated","dismissRatingPrompt","shouldShowRatingPrompt","requestReview","resetRatingData"],"mappings":"AAA;OC+B;CDU;AEK;CFM;OGK;CHI;OIK;CJI;OKK;CLI;OMK;CNK;OOK;CPuB;OQK;CRsB;OSK;CTE"},"hasCjsExports":false},"type":"js/module"}]}