{"dependencies":[{"name":"expo-store-review","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":118},"end":{"line":5,"column":49,"index":167}}],"key":"yzkhvrxknPFq6IkeOqtXxybOttw=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":168},"end":{"line":6,"column":69,"index":237}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getRatingData = getRatingData;\n  exports.incrementSessionCount = incrementSessionCount;\n  exports.incrementPostCount = incrementPostCount;\n  exports.markAsRated = markAsRated;\n  exports.dismissRatingPrompt = dismissRatingPrompt;\n  exports.shouldShowRatingPrompt = shouldShowRatingPrompt;\n  exports.requestReview = requestReview;\n  exports.resetRatingData = resetRatingData;\n  var _expoStoreReview = require(_dependencyMap[0], \"expo-store-review\");\n  var StoreReview = _interopNamespace(_expoStoreReview);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Uygulama İçi Değerlendirme Yardımcısı\n   * Kullanıcının uygulamayı değerlendirmesini istemek için kullanılır\n   */\n\n  const RATING_STORAGE_KEY = 'app_rating_data';\n  const MIN_SESSIONS = 5; // Minimum oturum sayısı\n  const MIN_POSTS = 3; // Minimum gönderi sayısı\n  const DAYS_BETWEEN_PROMPTS = 30; // Tekrar sormadan önce beklenecek gün\n\n  const defaultData = {\n    sessionCount: 0,\n    postCount: 0,\n    lastPromptDate: null,\n    hasRated: false,\n    dismissed: false\n  };\n\n  /**\n   * Rating verilerini yükle\n   */\n  async function getRatingData() {\n    try {\n      const data = await AsyncStorage.default.getItem(RATING_STORAGE_KEY);\n      if (data) {\n        return Object.assign({}, defaultData, JSON.parse(data));\n      }\n      return defaultData;\n    } catch {\n      return defaultData;\n    }\n  }\n\n  /**\n   * Rating verilerini kaydet\n   */\n  async function saveRatingData(data) {\n    try {\n      await AsyncStorage.default.setItem(RATING_STORAGE_KEY, JSON.stringify(data));\n    } catch (error) {\n      console.error('Rating data save error:', error);\n    }\n  }\n\n  /**\n   * Oturum sayısını artır\n   */\n  async function incrementSessionCount() {\n    const data = await getRatingData();\n    data.sessionCount += 1;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Gönderi sayısını artır\n   */\n  async function incrementPostCount() {\n    const data = await getRatingData();\n    data.postCount += 1;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme yapıldı olarak işaretle\n   */\n  async function markAsRated() {\n    const data = await getRatingData();\n    data.hasRated = true;\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme istemini reddet\n   */\n  async function dismissRatingPrompt() {\n    const data = await getRatingData();\n    data.dismissed = true;\n    data.lastPromptDate = new Date().toISOString();\n    await saveRatingData(data);\n  }\n\n  /**\n   * Değerlendirme istemi gösterilmeli mi kontrol et\n   */\n  async function shouldShowRatingPrompt() {\n    const data = await getRatingData();\n\n    // Zaten değerlendirdiyse gösterme\n    if (data.hasRated) {\n      return false;\n    }\n\n    // Yeterli oturum veya gönderi sayısı yoksa gösterme\n    if (data.sessionCount < MIN_SESSIONS && data.postCount < MIN_POSTS) {\n      return false;\n    }\n\n    // Son gösterimden beri yeterli zaman geçti mi?\n    if (data.lastPromptDate) {\n      const lastDate = new Date(data.lastPromptDate);\n      const daysSinceLastPrompt = (Date.now() - lastDate.getTime()) / (1000 * 60 * 60 * 24);\n      if (daysSinceLastPrompt < DAYS_BETWEEN_PROMPTS) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Değerlendirme isteğini göster\n   */\n  async function requestReview() {\n    try {\n      // Store review mevcut mu kontrol et\n      const isAvailable = await StoreReview.isAvailableAsync();\n      if (isAvailable) {\n        await StoreReview.requestReview();\n        await markAsRated();\n        return true;\n      }\n\n      // Mevcut değilse, store'a yönlendir\n      if (await StoreReview.hasAction()) {\n        await StoreReview.requestReview();\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Review request error:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Tüm rating verilerini sıfırla (test için)\n   */\n  async function resetRatingData() {\n    await AsyncStorage.default.removeItem(RATING_STORAGE_KEY);\n  }\n});","lineCount":178,"map":[[27,2,32,0,"exports"],[27,9,32,0],[27,10,32,0,"getRatingData"],[27,23,32,0],[27,26,32,0,"getRatingData"],[27,39,32,0],[28,2,58,0,"exports"],[28,9,58,0],[28,10,58,0,"incrementSessionCount"],[28,31,58,0],[28,34,58,0,"incrementSessionCount"],[28,55,58,0],[29,2,67,0,"exports"],[29,9,67,0],[29,10,67,0,"incrementPostCount"],[29,28,67,0],[29,31,67,0,"incrementPostCount"],[29,49,67,0],[30,2,76,0,"exports"],[30,9,76,0],[30,10,76,0,"markAsRated"],[30,21,76,0],[30,24,76,0,"markAsRated"],[30,35,76,0],[31,2,85,0,"exports"],[31,9,85,0],[31,10,85,0,"dismissRatingPrompt"],[31,29,85,0],[31,32,85,0,"dismissRatingPrompt"],[31,51,85,0],[32,2,95,0,"exports"],[32,9,95,0],[32,10,95,0,"shouldShowRatingPrompt"],[32,32,95,0],[32,35,95,0,"shouldShowRatingPrompt"],[32,57,95,0],[33,2,123,0,"exports"],[33,9,123,0],[33,10,123,0,"requestReview"],[33,23,123,0],[33,26,123,0,"requestReview"],[33,39,123,0],[34,2,150,0,"exports"],[34,9,150,0],[34,10,150,0,"resetRatingData"],[34,25,150,0],[34,28,150,0,"resetRatingData"],[34,43,150,0],[35,2,5,0],[35,6,5,0,"_expoStoreReview"],[35,22,5,0],[35,25,5,0,"require"],[35,32,5,0],[35,33,5,0,"_dependencyMap"],[35,47,5,0],[36,2,5,0],[36,6,5,0,"StoreReview"],[36,17,5,0],[36,20,5,0,"_interopNamespace"],[36,37,5,0],[36,38,5,0,"_expoStoreReview"],[36,54,5,0],[37,2,6,0],[37,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,6,0],[37,45,6,0,"require"],[37,52,6,0],[37,53,6,0,"_dependencyMap"],[37,67,6,0],[38,2,6,0],[38,6,6,0,"AsyncStorage"],[38,18,6,0],[38,21,6,0,"_interopDefault"],[38,36,6,0],[38,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,6,0],[39,2,1,0],[40,0,2,0],[41,0,3,0],[42,0,4,0],[44,2,8,0],[44,8,8,6,"RATING_STORAGE_KEY"],[44,26,8,24],[44,29,8,27],[44,46,8,44],[45,2,9,0],[45,8,9,6,"MIN_SESSIONS"],[45,20,9,18],[45,23,9,21],[45,24,9,22],[45,25,9,23],[45,26,9,24],[46,2,10,0],[46,8,10,6,"MIN_POSTS"],[46,17,10,15],[46,20,10,18],[46,21,10,19],[46,22,10,20],[46,23,10,21],[47,2,11,0],[47,8,11,6,"DAYS_BETWEEN_PROMPTS"],[47,28,11,26],[47,31,11,29],[47,33,11,31],[47,34,11,32],[47,35,11,33],[49,2,21,0],[49,8,21,6,"defaultData"],[49,19,21,29],[49,22,21,32],[50,4,22,2,"sessionCount"],[50,16,22,14],[50,18,22,16],[50,19,22,17],[51,4,23,2,"postCount"],[51,13,23,11],[51,15,23,13],[51,16,23,14],[52,4,24,2,"lastPromptDate"],[52,18,24,16],[52,20,24,18],[52,24,24,22],[53,4,25,2,"hasRated"],[53,12,25,10],[53,14,25,12],[53,19,25,17],[54,4,26,2,"dismissed"],[54,13,26,11],[54,15,26,13],[55,2,27,0],[55,3,27,1],[57,2,29,0],[58,0,30,0],[59,0,31,0],[60,2,32,7],[60,17,32,22,"getRatingData"],[60,30,32,35,"getRatingData"],[60,31,32,35],[60,33,32,59],[61,4,33,2],[61,8,33,6],[62,6,34,4],[62,12,34,10,"data"],[62,16,34,14],[62,19,34,17],[62,25,34,23,"AsyncStorage"],[62,37,34,35],[62,38,34,35,"default"],[62,45,34,35],[62,46,34,36,"getItem"],[62,53,34,43],[62,54,34,44,"RATING_STORAGE_KEY"],[62,72,34,62],[62,73,34,63],[63,6,35,4],[63,10,35,8,"data"],[63,14,35,12],[63,16,35,14],[64,8,36,6],[64,15,36,6,"Object"],[64,21,36,6],[64,22,36,6,"assign"],[64,28,36,6],[64,33,36,18,"defaultData"],[64,44,36,29],[64,46,36,34,"JSON"],[64,50,36,38],[64,51,36,39,"parse"],[64,56,36,44],[64,57,36,45,"data"],[64,61,36,49],[64,62,36,50],[65,6,37,4],[66,6,38,4],[66,13,38,11,"defaultData"],[66,24,38,22],[67,4,39,2],[67,5,39,3],[67,6,39,4],[67,12,39,10],[68,6,40,4],[68,13,40,11,"defaultData"],[68,24,40,22],[69,4,41,2],[70,2,42,0],[72,2,44,0],[73,0,45,0],[74,0,46,0],[75,2,47,0],[75,17,47,15,"saveRatingData"],[75,31,47,29,"saveRatingData"],[75,32,47,30,"data"],[75,36,47,46],[75,38,47,63],[76,4,48,2],[76,8,48,6],[77,6,49,4],[77,12,49,10,"AsyncStorage"],[77,24,49,22],[77,25,49,22,"default"],[77,32,49,22],[77,33,49,23,"setItem"],[77,40,49,30],[77,41,49,31,"RATING_STORAGE_KEY"],[77,59,49,49],[77,61,49,51,"JSON"],[77,65,49,55],[77,66,49,56,"stringify"],[77,75,49,65],[77,76,49,66,"data"],[77,80,49,70],[77,81,49,71],[77,82,49,72],[78,4,50,2],[78,5,50,3],[78,6,50,4],[78,13,50,11,"error"],[78,18,50,16],[78,20,50,18],[79,6,51,4,"console"],[79,13,51,11],[79,14,51,12,"error"],[79,19,51,17],[79,20,51,18],[79,45,51,43],[79,47,51,45,"error"],[79,52,51,50],[79,53,51,51],[80,4,52,2],[81,2,53,0],[83,2,55,0],[84,0,56,0],[85,0,57,0],[86,2,58,7],[86,17,58,22,"incrementSessionCount"],[86,38,58,43,"incrementSessionCount"],[86,39,58,43],[86,41,58,61],[87,4,59,2],[87,10,59,8,"data"],[87,14,59,12],[87,17,59,15],[87,23,59,21,"getRatingData"],[87,36,59,34],[87,37,59,35],[87,38,59,36],[88,4,60,2,"data"],[88,8,60,6],[88,9,60,7,"sessionCount"],[88,21,60,19],[88,25,60,23],[88,26,60,24],[89,4,61,2],[89,10,61,8,"saveRatingData"],[89,24,61,22],[89,25,61,23,"data"],[89,29,61,27],[89,30,61,28],[90,2,62,0],[92,2,64,0],[93,0,65,0],[94,0,66,0],[95,2,67,7],[95,17,67,22,"incrementPostCount"],[95,35,67,40,"incrementPostCount"],[95,36,67,40],[95,38,67,58],[96,4,68,2],[96,10,68,8,"data"],[96,14,68,12],[96,17,68,15],[96,23,68,21,"getRatingData"],[96,36,68,34],[96,37,68,35],[96,38,68,36],[97,4,69,2,"data"],[97,8,69,6],[97,9,69,7,"postCount"],[97,18,69,16],[97,22,69,20],[97,23,69,21],[98,4,70,2],[98,10,70,8,"saveRatingData"],[98,24,70,22],[98,25,70,23,"data"],[98,29,70,27],[98,30,70,28],[99,2,71,0],[101,2,73,0],[102,0,74,0],[103,0,75,0],[104,2,76,7],[104,17,76,22,"markAsRated"],[104,28,76,33,"markAsRated"],[104,29,76,33],[104,31,76,51],[105,4,77,2],[105,10,77,8,"data"],[105,14,77,12],[105,17,77,15],[105,23,77,21,"getRatingData"],[105,36,77,34],[105,37,77,35],[105,38,77,36],[106,4,78,2,"data"],[106,8,78,6],[106,9,78,7,"hasRated"],[106,17,78,15],[106,20,78,18],[106,24,78,22],[107,4,79,2],[107,10,79,8,"saveRatingData"],[107,24,79,22],[107,25,79,23,"data"],[107,29,79,27],[107,30,79,28],[108,2,80,0],[110,2,82,0],[111,0,83,0],[112,0,84,0],[113,2,85,7],[113,17,85,22,"dismissRatingPrompt"],[113,36,85,41,"dismissRatingPrompt"],[113,37,85,41],[113,39,85,59],[114,4,86,2],[114,10,86,8,"data"],[114,14,86,12],[114,17,86,15],[114,23,86,21,"getRatingData"],[114,36,86,34],[114,37,86,35],[114,38,86,36],[115,4,87,2,"data"],[115,8,87,6],[115,9,87,7,"dismissed"],[115,18,87,16],[115,21,87,19],[115,25,87,23],[116,4,88,2,"data"],[116,8,88,6],[116,9,88,7,"lastPromptDate"],[116,23,88,21],[116,26,88,24],[116,30,88,28,"Date"],[116,34,88,32],[116,35,88,33],[116,36,88,34],[116,37,88,35,"toISOString"],[116,48,88,46],[116,49,88,47],[116,50,88,48],[117,4,89,2],[117,10,89,8,"saveRatingData"],[117,24,89,22],[117,25,89,23,"data"],[117,29,89,27],[117,30,89,28],[118,2,90,0],[120,2,92,0],[121,0,93,0],[122,0,94,0],[123,2,95,7],[123,17,95,22,"shouldShowRatingPrompt"],[123,39,95,44,"shouldShowRatingPrompt"],[123,40,95,44],[123,42,95,65],[124,4,96,2],[124,10,96,8,"data"],[124,14,96,12],[124,17,96,15],[124,23,96,21,"getRatingData"],[124,36,96,34],[124,37,96,35],[124,38,96,36],[126,4,98,2],[127,4,99,2],[127,8,99,6,"data"],[127,12,99,10],[127,13,99,11,"hasRated"],[127,21,99,19],[127,23,99,21],[128,6,100,4],[128,13,100,11],[128,18,100,16],[129,4,101,2],[131,4,103,2],[132,4,104,2],[132,8,104,6,"data"],[132,12,104,10],[132,13,104,11,"sessionCount"],[132,25,104,23],[132,28,104,26,"MIN_SESSIONS"],[132,40,104,38],[132,44,104,42,"data"],[132,48,104,46],[132,49,104,47,"postCount"],[132,58,104,56],[132,61,104,59,"MIN_POSTS"],[132,70,104,68],[132,72,104,70],[133,6,105,4],[133,13,105,11],[133,18,105,16],[134,4,106,2],[136,4,108,2],[137,4,109,2],[137,8,109,6,"data"],[137,12,109,10],[137,13,109,11,"lastPromptDate"],[137,27,109,25],[137,29,109,27],[138,6,110,4],[138,12,110,10,"lastDate"],[138,20,110,18],[138,23,110,21],[138,27,110,25,"Date"],[138,31,110,29],[138,32,110,30,"data"],[138,36,110,34],[138,37,110,35,"lastPromptDate"],[138,51,110,49],[138,52,110,50],[139,6,111,4],[139,12,111,10,"daysSinceLastPrompt"],[139,31,111,29],[139,34,111,32],[139,35,111,33,"Date"],[139,39,111,37],[139,40,111,38,"now"],[139,43,111,41],[139,44,111,42],[139,45,111,43],[139,48,111,46,"lastDate"],[139,56,111,54],[139,57,111,55,"getTime"],[139,64,111,62],[139,65,111,63],[139,66,111,64],[139,71,111,69],[139,75,111,73],[139,78,111,76],[139,80,111,78],[139,83,111,81],[139,85,111,83],[139,88,111,86],[139,90,111,88],[139,91,111,89],[140,6,112,4],[140,10,112,8,"daysSinceLastPrompt"],[140,29,112,27],[140,32,112,30,"DAYS_BETWEEN_PROMPTS"],[140,52,112,50],[140,54,112,52],[141,8,113,6],[141,15,113,13],[141,20,113,18],[142,6,114,4],[143,4,115,2],[144,4,117,2],[144,11,117,9],[144,15,117,13],[145,2,118,0],[147,2,120,0],[148,0,121,0],[149,0,122,0],[150,2,123,7],[150,17,123,22,"requestReview"],[150,30,123,35,"requestReview"],[150,31,123,35],[150,33,123,56],[151,4,124,2],[151,8,124,6],[152,6,125,4],[153,6,126,4],[153,12,126,10,"isAvailable"],[153,23,126,21],[153,26,126,24],[153,32,126,30,"StoreReview"],[153,43,126,41],[153,44,126,42,"isAvailableAsync"],[153,60,126,58],[153,61,126,59],[153,62,126,60],[154,6,128,4],[154,10,128,8,"isAvailable"],[154,21,128,19],[154,23,128,21],[155,8,129,6],[155,14,129,12,"StoreReview"],[155,25,129,23],[155,26,129,24,"requestReview"],[155,39,129,37],[155,40,129,38],[155,41,129,39],[156,8,130,6],[156,14,130,12,"markAsRated"],[156,25,130,23],[156,26,130,24],[156,27,130,25],[157,8,131,6],[157,15,131,13],[157,19,131,17],[158,6,132,4],[160,6,134,4],[161,6,135,4],[161,10,135,8],[161,16,135,14,"StoreReview"],[161,27,135,25],[161,28,135,26,"hasAction"],[161,37,135,35],[161,38,135,36],[161,39,135,37],[161,41,135,39],[162,8,136,6],[162,14,136,12,"StoreReview"],[162,25,136,23],[162,26,136,24,"requestReview"],[162,39,136,37],[162,40,136,38],[162,41,136,39],[163,8,137,6],[163,15,137,13],[163,19,137,17],[164,6,138,4],[165,6,140,4],[165,13,140,11],[165,18,140,16],[166,4,141,2],[166,5,141,3],[166,6,141,4],[166,13,141,11,"error"],[166,18,141,16],[166,20,141,18],[167,6,142,4,"console"],[167,13,142,11],[167,14,142,12,"error"],[167,19,142,17],[167,20,142,18],[167,43,142,41],[167,45,142,43,"error"],[167,50,142,48],[167,51,142,49],[168,6,143,4],[168,13,143,11],[168,18,143,16],[169,4,144,2],[170,2,145,0],[172,2,147,0],[173,0,148,0],[174,0,149,0],[175,2,150,7],[175,17,150,22,"resetRatingData"],[175,32,150,37,"resetRatingData"],[175,33,150,37],[175,35,150,55],[176,4,151,2],[176,10,151,8,"AsyncStorage"],[176,22,151,20],[176,23,151,20,"default"],[176,30,151,20],[176,31,151,21,"removeItem"],[176,41,151,31],[176,42,151,32,"RATING_STORAGE_KEY"],[176,60,151,50],[176,61,151,51],[177,2,152,0],[178,0,152,1],[178,3]],"functionMap":{"names":["<global>","getRatingData","saveRatingData","incrementSessionCount","incrementPostCount","markAsRated","dismissRatingPrompt","shouldShowRatingPrompt","requestReview","resetRatingData"],"mappings":"AAA;OC+B;CDU;AEK;CFM;OGK;CHI;OIK;CJI;OKK;CLI;OMK;CNK;OOK;CPuB;OQK;CRsB;OSK;CTE"},"hasCjsExports":false},"type":"js/module"}]}