{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":24,"index":157}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.savePushToken = savePushToken;\n  exports.sendLocalNotification = sendLocalNotification;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  exports.setBadgeCount = setBadgeCount;\n  exports.clearAllNotifications = clearAllNotifications;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  // Notification handler ayarları\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n\n  // Push notification token al\n  async function registerForPushNotificationsAsync() {\n    // Expo Go SDK 53+ push notifications desteklemiyor\n    // Development build veya production için çalışır\n    try {\n      let token = null;\n      if (Platform.default.OS === 'android') {\n        await Notifications.setNotificationChannelAsync('default', {\n          name: 'default',\n          importance: Notifications.AndroidImportance.MAX,\n          vibrationPattern: [0, 250, 250, 250],\n          lightColor: '#6366f1'\n        });\n      }\n      if (Device.isDevice) {\n        const {\n          status: existingStatus\n        } = await Notifications.getPermissionsAsync();\n        let finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          const {\n            status\n          } = await Notifications.requestPermissionsAsync();\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.log('Push notification izni verilmedi!');\n          return null;\n        }\n\n        // Expo push token al - hata durumunda sessizce devam et\n        try {\n          const tokenResponse = await Notifications.getExpoPushTokenAsync();\n          token = tokenResponse.data;\n        } catch (tokenError) {\n          // Expo Go'da push token almak başarısız olabilir, bu normaldir\n          console.log('Push token alınamadı (Expo Go kullanıyor olabilirsiniz)');\n          return null;\n        }\n      } else {\n        console.log('Push notifications sadece fiziksel cihazlarda çalışır');\n      }\n      return token;\n    } catch (error) {\n      console.log('Push notification setup hatası:', error);\n      return null;\n    }\n  }\n\n  // Token'ı backend'e kaydet\n  async function savePushToken(token) {\n    try {\n      await api.default.post('/api/user/push-token', {\n        token\n      });\n      console.log('Push token kaydedildi');\n    } catch (error) {\n      console.log('Push token kaydedilemedi');\n    }\n  }\n\n  // Yerel bildirim gönder\n  async function sendLocalNotification(title, body, data) {\n    try {\n      await Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data: data || {},\n          sound: 'default'\n        },\n        trigger: null // Hemen göster\n      });\n    } catch (error) {\n      console.log('Yerel bildirim gönderilemedi');\n    }\n  }\n\n  // Bildirim listener'ları\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n\n  // Badge sayısını güncelle\n  async function setBadgeCount(count) {\n    try {\n      await Notifications.setBadgeCountAsync(count);\n    } catch (error) {\n      // Sessizce devam et\n    }\n  }\n\n  // Tüm bildirimleri temizle\n  async function clearAllNotifications() {\n    try {\n      await Notifications.dismissAllNotificationsAsync();\n      await Notifications.setBadgeCountAsync(0);\n    } catch (error) {\n      // Sessizce devam et\n    }\n  }\n  var _default = {\n    registerForPushNotificationsAsync,\n    savePushToken,\n    sendLocalNotification,\n    addNotificationReceivedListener,\n    addNotificationResponseReceivedListener,\n    setBadgeCount,\n    clearAllNotifications\n  };\n});","lineCount":170,"map":[[27,2,124,0,"Object"],[27,8,124,0],[27,9,124,0,"defineProperty"],[27,23,124,0],[27,24,124,0,"exports"],[27,31,124,0],[28,4,124,0,"enumerable"],[28,14,124,0],[29,4,124,0,"get"],[29,7,124,0],[29,18,124,0,"get"],[29,19,124,0],[30,6,124,0],[30,13,124,0,"_default"],[30,21,124,0],[31,4,124,0],[32,2,124,0],[33,2,16,0,"exports"],[33,9,16,0],[33,10,16,0,"registerForPushNotificationsAsync"],[33,43,16,0],[33,46,16,0,"registerForPushNotificationsAsync"],[33,79,16,0],[34,2,66,0,"exports"],[34,9,66,0],[34,10,66,0,"savePushToken"],[34,23,66,0],[34,26,66,0,"savePushToken"],[34,39,66,0],[35,2,76,0,"exports"],[35,9,76,0],[35,10,76,0,"sendLocalNotification"],[35,31,76,0],[35,34,76,0,"sendLocalNotification"],[35,55,76,0],[36,2,93,0,"exports"],[36,9,93,0],[36,10,93,0,"addNotificationReceivedListener"],[36,41,93,0],[36,44,93,0,"addNotificationReceivedListener"],[36,75,93,0],[37,2,99,0,"exports"],[37,9,99,0],[37,10,99,0,"addNotificationResponseReceivedListener"],[37,49,99,0],[37,52,99,0,"addNotificationResponseReceivedListener"],[37,91,99,0],[38,2,106,0,"exports"],[38,9,106,0],[38,10,106,0,"setBadgeCount"],[38,23,106,0],[38,26,106,0,"setBadgeCount"],[38,39,106,0],[39,2,115,0,"exports"],[39,9,115,0],[39,10,115,0,"clearAllNotifications"],[39,31,115,0],[39,34,115,0,"clearAllNotifications"],[39,55,115,0],[40,2,1,0],[40,6,1,0,"_expoNotifications"],[40,24,1,0],[40,27,1,0,"require"],[40,34,1,0],[40,35,1,0,"_dependencyMap"],[40,49,1,0],[41,2,1,0],[41,6,1,0,"Notifications"],[41,19,1,0],[41,22,1,0,"_interopNamespace"],[41,39,1,0],[41,40,1,0,"_expoNotifications"],[41,58,1,0],[42,2,2,0],[42,6,2,0,"_expoDevice"],[42,17,2,0],[42,20,2,0,"require"],[42,27,2,0],[42,28,2,0,"_dependencyMap"],[42,42,2,0],[43,2,2,0],[43,6,2,0,"Device"],[43,12,2,0],[43,15,2,0,"_interopNamespace"],[43,32,2,0],[43,33,2,0,"_expoDevice"],[43,44,2,0],[44,2,2,38],[44,6,2,38,"_reactNativeWebDistExportsPlatform"],[44,40,2,38],[44,43,2,38,"require"],[44,50,2,38],[44,51,2,38,"_dependencyMap"],[44,65,2,38],[45,2,2,38],[45,6,2,38,"Platform"],[45,14,2,38],[45,17,2,38,"_interopDefault"],[45,32,2,38],[45,33,2,38,"_reactNativeWebDistExportsPlatform"],[45,67,2,38],[46,2,4,0],[46,6,4,0,"_api"],[46,10,4,0],[46,13,4,0,"require"],[46,20,4,0],[46,21,4,0,"_dependencyMap"],[46,35,4,0],[47,2,4,0],[47,6,4,0,"api"],[47,9,4,0],[47,12,4,0,"_interopDefault"],[47,27,4,0],[47,28,4,0,"_api"],[47,32,4,0],[48,2,6,0],[49,2,7,0,"Notifications"],[49,15,7,13],[49,16,7,14,"setNotificationHandler"],[49,38,7,36],[49,39,7,37],[50,4,8,2,"handleNotification"],[50,22,8,20],[50,24,8,22],[50,30,8,22,"handleNotification"],[50,31,8,22],[50,37,8,35],[51,6,9,4,"shouldShowAlert"],[51,21,9,19],[51,23,9,21],[51,27,9,25],[52,6,10,4,"shouldPlaySound"],[52,21,10,19],[52,23,10,21],[52,27,10,25],[53,6,11,4,"shouldSetBadge"],[53,20,11,18],[53,22,11,20],[54,4,12,2],[54,5,12,3],[55,2,13,0],[55,3,13,1],[55,4,13,2],[57,2,15,0],[58,2,16,7],[58,17,16,22,"registerForPushNotificationsAsync"],[58,50,16,55,"registerForPushNotificationsAsync"],[58,51,16,55],[58,53,16,82],[59,4,17,2],[60,4,18,2],[61,4,19,2],[61,8,19,6],[62,6,20,4],[62,10,20,8,"token"],[62,15,20,13],[62,18,20,16],[62,22,20,20],[63,6,22,4],[63,10,22,8,"Platform"],[63,18,22,16],[63,19,22,16,"default"],[63,26,22,16],[63,27,22,17,"OS"],[63,29,22,19],[63,34,22,24],[63,43,22,33],[63,45,22,35],[64,8,23,6],[64,14,23,12,"Notifications"],[64,27,23,25],[64,28,23,26,"setNotificationChannelAsync"],[64,55,23,53],[64,56,23,54],[64,65,23,63],[64,67,23,65],[65,10,24,8,"name"],[65,14,24,12],[65,16,24,14],[65,25,24,23],[66,10,25,8,"importance"],[66,20,25,18],[66,22,25,20,"Notifications"],[66,35,25,33],[66,36,25,34,"AndroidImportance"],[66,53,25,51],[66,54,25,52,"MAX"],[66,57,25,55],[67,10,26,8,"vibrationPattern"],[67,26,26,24],[67,28,26,26],[67,29,26,27],[67,30,26,28],[67,32,26,30],[67,35,26,33],[67,37,26,35],[67,40,26,38],[67,42,26,40],[67,45,26,43],[67,46,26,44],[68,10,27,8,"lightColor"],[68,20,27,18],[68,22,27,20],[69,8,28,6],[69,9,28,7],[69,10,28,8],[70,6,29,4],[71,6,31,4],[71,10,31,8,"Device"],[71,16,31,14],[71,17,31,15,"isDevice"],[71,25,31,23],[71,27,31,25],[72,8,32,6],[72,14,32,12],[73,10,32,14,"status"],[73,16,32,20],[73,18,32,22,"existingStatus"],[74,8,32,37],[74,9,32,38],[74,12,32,41],[74,18,32,47,"Notifications"],[74,31,32,60],[74,32,32,61,"getPermissionsAsync"],[74,51,32,80],[74,52,32,81],[74,53,32,82],[75,8,33,6],[75,12,33,10,"finalStatus"],[75,23,33,21],[75,26,33,24,"existingStatus"],[75,40,33,38],[76,8,35,6],[76,12,35,10,"existingStatus"],[76,26,35,24],[76,31,35,29],[76,40,35,38],[76,42,35,40],[77,10,36,8],[77,16,36,14],[78,12,36,16,"status"],[79,10,36,23],[79,11,36,24],[79,14,36,27],[79,20,36,33,"Notifications"],[79,33,36,46],[79,34,36,47,"requestPermissionsAsync"],[79,57,36,70],[79,58,36,71],[79,59,36,72],[80,10,37,8,"finalStatus"],[80,21,37,19],[80,24,37,22,"status"],[80,30,37,28],[81,8,38,6],[82,8,40,6],[82,12,40,10,"finalStatus"],[82,23,40,21],[82,28,40,26],[82,37,40,35],[82,39,40,37],[83,10,41,8,"console"],[83,17,41,15],[83,18,41,16,"log"],[83,21,41,19],[83,22,41,20],[83,57,41,55],[83,58,41,56],[84,10,42,8],[84,17,42,15],[84,21,42,19],[85,8,43,6],[87,8,45,6],[88,8,46,6],[88,12,46,10],[89,10,47,8],[89,16,47,14,"tokenResponse"],[89,29,47,27],[89,32,47,30],[89,38,47,36,"Notifications"],[89,51,47,49],[89,52,47,50,"getExpoPushTokenAsync"],[89,73,47,71],[89,74,47,72],[89,75,47,73],[90,10,48,8,"token"],[90,15,48,13],[90,18,48,16,"tokenResponse"],[90,31,48,29],[90,32,48,30,"data"],[90,36,48,34],[91,8,49,6],[91,9,49,7],[91,10,49,8],[91,17,49,15,"tokenError"],[91,27,49,25],[91,29,49,27],[92,10,50,8],[93,10,51,8,"console"],[93,17,51,15],[93,18,51,16,"log"],[93,21,51,19],[93,22,51,20],[93,79,51,77],[93,80,51,78],[94,10,52,8],[94,17,52,15],[94,21,52,19],[95,8,53,6],[96,6,54,4],[96,7,54,5],[96,13,54,11],[97,8,55,6,"console"],[97,15,55,13],[97,16,55,14,"log"],[97,19,55,17],[97,20,55,18],[97,75,55,73],[97,76,55,74],[98,6,56,4],[99,6,58,4],[99,13,58,11,"token"],[99,18,58,16],[100,4,59,2],[100,5,59,3],[100,6,59,4],[100,13,59,11,"error"],[100,18,59,16],[100,20,59,18],[101,6,60,4,"console"],[101,13,60,11],[101,14,60,12,"log"],[101,17,60,15],[101,18,60,16],[101,51,60,49],[101,53,60,51,"error"],[101,58,60,56],[101,59,60,57],[102,6,61,4],[102,13,61,11],[102,17,61,15],[103,4,62,2],[104,2,63,0],[106,2,65,0],[107,2,66,7],[107,17,66,22,"savePushToken"],[107,30,66,35,"savePushToken"],[107,31,66,36,"token"],[107,36,66,49],[107,38,66,66],[108,4,67,2],[108,8,67,6],[109,6,68,4],[109,12,68,10,"api"],[109,15,68,13],[109,16,68,13,"default"],[109,23,68,13],[109,24,68,14,"post"],[109,28,68,18],[109,29,68,19],[109,51,68,41],[109,53,68,43],[110,8,68,45,"token"],[111,6,68,51],[111,7,68,52],[111,8,68,53],[112,6,69,4,"console"],[112,13,69,11],[112,14,69,12,"log"],[112,17,69,15],[112,18,69,16],[112,41,69,39],[112,42,69,40],[113,4,70,2],[113,5,70,3],[113,6,70,4],[113,13,70,11,"error"],[113,18,70,16],[113,20,70,18],[114,6,71,4,"console"],[114,13,71,11],[114,14,71,12,"log"],[114,17,71,15],[114,18,71,16],[114,44,71,42],[114,45,71,43],[115,4,72,2],[116,2,73,0],[118,2,75,0],[119,2,76,7],[119,17,76,22,"sendLocalNotification"],[119,38,76,43,"sendLocalNotification"],[119,39,76,44,"title"],[119,44,76,57],[119,46,76,59,"body"],[119,50,76,71],[119,52,76,73,"data"],[119,56,76,86],[119,58,76,103],[120,4,77,2],[120,8,77,6],[121,6,78,4],[121,12,78,10,"Notifications"],[121,25,78,23],[121,26,78,24,"scheduleNotificationAsync"],[121,51,78,49],[121,52,78,50],[122,8,79,6,"content"],[122,15,79,13],[122,17,79,15],[123,10,80,8,"title"],[123,15,80,13],[124,10,81,8,"body"],[124,14,81,12],[125,10,82,8,"data"],[125,14,82,12],[125,16,82,14,"data"],[125,20,82,18],[125,24,82,22],[125,25,82,23],[125,26,82,24],[126,10,83,8,"sound"],[126,15,83,13],[126,17,83,15],[127,8,84,6],[127,9,84,7],[128,8,85,6,"trigger"],[128,15,85,13],[128,17,85,15],[128,21,85,19],[128,22,85,21],[129,6,86,4],[129,7,86,5],[129,8,86,6],[130,4,87,2],[130,5,87,3],[130,6,87,4],[130,13,87,11,"error"],[130,18,87,16],[130,20,87,18],[131,6,88,4,"console"],[131,13,88,11],[131,14,88,12,"log"],[131,17,88,15],[131,18,88,16],[131,48,88,46],[131,49,88,47],[132,4,89,2],[133,2,90,0],[135,2,92,0],[136,2,93,7],[136,11,93,16,"addNotificationReceivedListener"],[136,42,93,47,"addNotificationReceivedListener"],[136,43,94,2,"callback"],[136,51,94,62],[136,53,95,2],[137,4,96,2],[137,11,96,9,"Notifications"],[137,24,96,22],[137,25,96,23,"addNotificationReceivedListener"],[137,56,96,54],[137,57,96,55,"callback"],[137,65,96,63],[137,66,96,64],[138,2,97,0],[139,2,99,7],[139,11,99,16,"addNotificationResponseReceivedListener"],[139,50,99,55,"addNotificationResponseReceivedListener"],[139,51,100,2,"callback"],[139,59,100,66],[139,61,101,2],[140,4,102,2],[140,11,102,9,"Notifications"],[140,24,102,22],[140,25,102,23,"addNotificationResponseReceivedListener"],[140,64,102,62],[140,65,102,63,"callback"],[140,73,102,71],[140,74,102,72],[141,2,103,0],[143,2,105,0],[144,2,106,7],[144,17,106,22,"setBadgeCount"],[144,30,106,35,"setBadgeCount"],[144,31,106,36,"count"],[144,36,106,49],[144,38,106,66],[145,4,107,2],[145,8,107,6],[146,6,108,4],[146,12,108,10,"Notifications"],[146,25,108,23],[146,26,108,24,"setBadgeCountAsync"],[146,44,108,42],[146,45,108,43,"count"],[146,50,108,48],[146,51,108,49],[147,4,109,2],[147,5,109,3],[147,6,109,4],[147,13,109,11,"error"],[147,18,109,16],[147,20,109,18],[148,6,110,4],[149,4,110,4],[150,2,112,0],[152,2,114,0],[153,2,115,7],[153,17,115,22,"clearAllNotifications"],[153,38,115,43,"clearAllNotifications"],[153,39,115,43],[153,41,115,61],[154,4,116,2],[154,8,116,6],[155,6,117,4],[155,12,117,10,"Notifications"],[155,25,117,23],[155,26,117,24,"dismissAllNotificationsAsync"],[155,54,117,52],[155,55,117,53],[155,56,117,54],[156,6,118,4],[156,12,118,10,"Notifications"],[156,25,118,23],[156,26,118,24,"setBadgeCountAsync"],[156,44,118,42],[156,45,118,43],[156,46,118,44],[156,47,118,45],[157,4,119,2],[157,5,119,3],[157,6,119,4],[157,13,119,11,"error"],[157,18,119,16],[157,20,119,18],[158,6,120,4],[159,4,120,4],[160,2,122,0],[161,2,124,0],[161,6,124,0,"_default"],[161,14,124,0],[161,17,124,15],[162,4,125,2,"registerForPushNotificationsAsync"],[162,37,125,35],[163,4,126,2,"savePushToken"],[163,17,126,15],[164,4,127,2,"sendLocalNotification"],[164,25,127,23],[165,4,128,2,"addNotificationReceivedListener"],[165,35,128,33],[166,4,129,2,"addNotificationResponseReceivedListener"],[166,43,129,41],[167,4,130,2,"setBadgeCount"],[167,17,130,15],[168,4,131,2,"clearAllNotifications"],[169,2,132,0],[169,3,132,1],[170,0,132,2],[170,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","savePushToken","sendLocalNotification","addNotificationReceivedListener","addNotificationResponseReceivedListener","setBadgeCount","clearAllNotifications"],"mappings":"AAA;sBCO;IDI;OEI;CF+C;OGG;CHO;OIG;CJc;OKG;CLI;OME;CNI;OOG;CPM;OQG;CRO"},"hasCjsExports":false},"type":"js/module"}]}